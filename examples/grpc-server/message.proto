syntax = "proto3";

package llama;

option go_package = "./pkg/grpc";

service LlamaGoService {
    rpc Answer(Job) returns (stream Output){}
    rpc Embed(Job) returns (Output){}
}

message Job {
	string id = 1;  
	string prompt = 2;     
}

enum Status {
    PENDING = 0;
    RUNNING = 1;
    FINISHED = 2;
    FAILED = 3;
}

message Output {
    string id = 1;
    Status status = 2;
    string output = 3;
    repeated float embed = 4;
}